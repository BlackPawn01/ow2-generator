<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>OW2 Stadium - Reco Strat√©gie</title>
  <style>
    body { font-family: Arial, sans-serif; background: #111; color: #ddd; padding: 20px; }
    h1, h2 { color: #4eaaff; }
    select, input { padding: 5px; margin: 5px 0; }
    .section { margin-bottom: 20px; }
    .recommandations { background: #222; padding: 15px; border-radius: 8px; margin-top: 10px; }
    label { display: block; margin-top: 10px; }
    .result-block { margin-bottom: 15px; }
    .inaccessible { color: #f44336; } /* rouge */
  </style>
</head>
<body>
  <h1>OW2 Stadium - G√©n√©rateur de strat√©gie</h1>

  <div class="section">
    <label for="hero">S√©lectionnez un h√©ros :</label>
    <select id="hero">
      <option value="mercy">Mercy</option>
      <option value="kiriko">Kiriko</option>
    </select>

    <label for="style">Style de jeu :</label>
    <select id="style">
      <option value="heal">Type 1 - Priorit√© aux soins</option>
      <option value="damage">Type 2 - Priorit√© aux d√©g√¢ts</option>
    </select>
  </div>

  <div class="section">
    <h2>Points disponibles par manche :</h2>
    <div id="points-inputs"></div>
    <button onclick="generateRecommendations()">G√©n√©rer les recommandations</button>
  </div>

  <div class="section recommandations" id="recommendation-output"></div>

  <script>
    const manches = [1, 2, 3, 4, 5, 6, 7];
    const container = document.getElementById("points-inputs");

    // Cr√©ation des inputs
    manches.forEach(manche => {
      const input = document.createElement("input");
      input.type = "number";
      input.min = 0;
      input.id = `manche${manche}`;
      input.placeholder = `Manche ${manche} - Points`;
      container.appendChild(input);
      container.appendChild(document.createElement("br"));
    });

    const strategies = {
      mercy: {
        heal: {
          1: {
            achat: [
              { name: "Boost de soin (Heal Boost)", cout: 1000, cat: "Survie" },
              { name: "Soin cibl√© (Focused Heal)", cout: 1000, cat: "Capacit√©" },
              { name: "Packs de soin am√©lior√©s (Med Pack)", cout: 1500, cat: "Survie" },
            ],
            pouvoir: "Triage Unit"
          },
          2: { achat: [], pouvoir: null },
          3: {
            achat: [{ name: "Soin boost√© (Boosted Heal)", cout: 11000, cat: "Capacit√©" }],
            pouvoir: "Distortion"
          },
          4: {
            achat: [{ name: "R√©flexes rapides (Quick Reflexes)", cout: 12000, cat: "Capacit√©" }],
            pouvoir: null
          },
          5: {
            achat: [{ name: "Amplificateur biotech (Biotech Maximizer)", cout: 13000, cat: "Arme" }],
            pouvoir: "Equivalent Exchange"
          },
          6: {
            achat: [{ name: "Packs de soin am√©lior√©s (am√©lioration max)", cout: 15000, cat: "Survie" }],
            pouvoir: null
          },
          7: {
            achat: [{ name: "Optionnel selon besoins (ex: puissance arme)", cout: "Variable", cat: "Arme" }],
            pouvoir: "Crepuscular Circle"
          }
        },
        damage: {
          1: {
            achat: [
              { name: "Cadence du pistolet (Firing Rate)", cout: 1500, cat: "Arme" },
              { name: "Pr√©cision am√©lior√©e", cout: 1000, cat: "Arme" },
              { name: "Boost de soin (Heal Boost)", cout: 1000, cat: "Survie" }
            ],
            pouvoir: "Battle Medic"
          },
          2: {
            achat: [{ name: "√ânergie offensive (Damage Boost+)", cout: 3000, cat: "Capacit√©" }],
            pouvoir: null
          },
          3: {
            achat: [{ name: "Tir √† t√™te (Headshot Multiplier)", cout: 4000, cat: "Arme" }],
            pouvoir: "Distortion"
          },
          4: {
            achat: [{ name: "Vol de vie (Lifesteal)", cout: 7000, cat: "Arme" }],
            pouvoir: null
          },
          5: {
            achat: [{ name: "Soin r√©siduel sur tir (Sympathetic Recovery+)", cout: 12000, cat: "Capacit√©" }],
            pouvoir: "Equivalent Exchange"
          },
          6: { achat: [], pouvoir: null },
          7: {
            achat: [{ name: "R√©duction recharge pistolet", cout: 6000, cat: "Arme" }],
            pouvoir: "Crepuscular Circle"
          }
        }
      },
      kiriko: {
        heal: {
          1: {
            achat: [
              { name: "Soin cibl√© (Focused Heal)", cout: 1000, cat: "Capacit√©" },
              { name: "Soin rapide (Rapid Healing)", cout: 1500, cat: "Survie" },
              { name: "Talismans rebondissants (Bouncy Healing Ofuda)", cout: 1000, cat: "Capacit√©" }
            ],
            pouvoir: "Triage Unit"
          },
          2: {
            achat: [
              { name: "T√©l√©portation rapide (Quick Step)", cout: 3000, cat: "Survie" },
              { name: "R√©sistance spirituelle (Spiritual Fortitude)", cout: 4000, cat: "Survie" }
            ],
            pouvoir: null
          },
          3: {
            achat: [{ name: "Puissance de soin (Healing Boost)", cout: 9000, cat: "Capacit√©" }],
            pouvoir: "Glass Extra Full"
          },
          4: {
            achat: [{ name: "D√©blocage instantan√© (Clarity Unleashed)", cout: 11000, cat: "Capacit√©" }],
            pouvoir: null
          },
          5: {
            achat: [{ name: "Amplification de zone (Area Heal Surge)", cout: 12000, cat: "Capacit√©" }],
            pouvoir: "Equivalent Exchange"
          },
          6: {
            achat: [{ name: "R√©cup√©ration (Resilient Recovery)", cout: 12000, cat: "Survie" }],
            pouvoir: null
          },
          7: {
            achat: [{ name: "Circle of Harmony", cout: 15000, cat: "Capacit√©" }],
            pouvoir: "Crepuscular Circle"
          }
        },
        damage: {
          1: {
            achat: [
              { name: "Recharge rapide (Faster Kunai)", cout: 1500, cat: "Arme" },
              { name: "Tir critique facilit√© (Critical Guidance)", cout: 2000, cat: "Arme" }
            ],
            pouvoir: "Battle Medic"
          },
          2: {
            achat: [
              { name: "T√©l√©portation rapide (Quick Step)", cout: 3000, cat: "Survie" },
              { name: "Kunai per√ßant (Piercing Kunai)", cout: 4000, cat: "Arme" }
            ],
            pouvoir: null
          },
          3: {
            achat: [{ name: "Boost d√©g√¢ts (Damage Boost)", cout: 9000, cat: "Capacit√©" }],
            pouvoir: "Distortion"
          },
          4: {
            achat: [{ name: "Soin en recharge (Ofuda on Reload)", cout: 11000, cat: "Capacit√©" }],
            pouvoir: null
          },
          5: {
            achat: [{ name: "Kunai rebondissants (Bouncing Kunai)", cout: 12000, cat: "Arme" }],
            pouvoir: "Equivalent Exchange"
          },
          6: {
            achat: [{ name: "Explosion critique (Exploding Crits)", cout: 14000, cat: "Arme" }],
            pouvoir: null
          },
          7: {
            achat: [{ name: "Amplification de zone (Area Heal Surge)", cout: 15000, cat: "Capacit√©" }],
            pouvoir: "Crepuscular Circle"
          }
        }
      }
    };

    function generateRecommendations() {
      const hero = document.getElementById("hero").value;
      const style = document.getElementById("style").value;
      const recoDiv = document.getElementById("recommendation-output");
      const data = strategies[hero][style];
      recoDiv.innerHTML = `<h2>Strat√©gie ${style === "heal" ? "Soin" : "D√©g√¢ts"} pour ${hero.charAt(0).toUpperCase() + hero.slice(1)}</h2>`;

      manches.forEach(manche => {
        const points = parseInt(document.getElementById(`manche${manche}`).value || "0");
        const step = data[manche];

        let block = `<div class="result-block"><strong>Manche ${manche} (${points} pts)</strong><ul>`;

        step.achat.forEach(achat => {
          // On filtre les achats avec co√ªt num√©rique uniquement
          if (typeof achat.cout === "number") {
            if (points >= achat.cout) {
              // Achat accessible
              block += `<li>${achat.name} ‚Äî ${achat.cout} pts (${achat.cat})</li>`;
            } else {
              // Achat inaccessible => affich√© en rouge
              block += `<li class="inaccessible">${achat.name} ‚Äî ${achat.cout} pts (${achat.cat})</li>`;
            }
          }
          // Si cout non num√©rique (ex: "Variable"), on ne l'affiche pas
        });

        block += "</ul>";

        if (step.pouvoir) {
          block += `<em>üß† Pouvoir gratuit conseill√© : <strong>${step.pouvoir}</strong></em>`;
        }

        block += "</div>";
        recoDiv.innerHTML += block;
      });
    }
  </script>
</body>
</html>
